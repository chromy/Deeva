<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Deeva </title>

  <!-- Common css -->
  <link rel="stylesheet" href="./d3Trial.css">
  <link rel="stylesheet" href="../css/bootstrap.css">

  <!-- D3 -->
  <script type="text/javascript" src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

</head>

<body>
    <div id="stack"></div>
    <div><p>stack = [("args", "null"),("a", "1"),("b", "2"),("c", '"z"'),("sentence", '"hello"'),("array", "int[4]")]</p></div>
<button id="run">Run</button>
 <script type="text/javascript">
    var dataset2 = [11,12,13,14,15];

        var r = 30;
        var w = 50;
        var h = 50;
        var y = 50;

        var stack = d3.select("#stack")
                .append("svg")
                .attr("height", 500)
                .attr("width", 500);

        var recs = stack.selectAll("rect")
                        .append("rect")
                        .data(dataset2)
                        .enter();
        
        recs.append("rect")
            .attr("x", function(d, i){
                return 2*h+i*h;     
            })
            .attr("y", y)
            .attr("height", h)
            .attr("width", w)
            .attr("class", "key")
            .style("fill", "#ffbb78")
            .style("stroke", "black")
            .style("stroke-width", 1);


        recs.append("rect")
            .attr("x", function(d, i){
                return 2*h+i*h;     
            })
            .attr("y", y+w)
            .attr("height", h/4)
            .attr("width", w)
            .attr("class", "value")
            .style("fill", "white");

        var text = stack.selectAll("key")
			.data(dataset2)
                        .enter()
                        .append("text");

        text.attr("y", y+w*2/3)
            .attr("x", function(d, i){
                return 8+1/3*h+2*h+i*h;     
            })
            .attr("text-anchor", "middle")
            .attr("font-size", "25px")
            .text(function(d, i){
                return d;
            })

        var text2 = stack.selectAll("value")
			.data(dataset2)
                        .enter()
                        .append("text");

        text2.attr("y", 2*y + w/5)
            .attr("x", function(d, i){
                return 8+ 1/3*h+2*h+i*h;     
            })
            .attr("text-anchor", "middle")
            .attr("font-size", "10px")
            .text(function(d, i){
                return i;
            })



        d3.select("#run").on("click", function() {
                var enter = svg.append("circle");
             enter.attr("cy", y);
             enter.attr("fill", "red").attr("r", 30);
             enter.attr("cx", function(d) {
                   res = 2*r+(no)*2*r;
                   no++;
                   return res;                
                });
  });
         
 </script>
 
</body>

</html>
